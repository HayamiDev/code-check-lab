@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --accent-primary: #3b82f6;
    --accent-secondary: #8b5cf6;
    --glow-color: rgba(59, 130, 246, 0.5);
  }

  body {
    @apply min-h-screen transition-colors duration-700 overflow-x-hidden antialiased selection:bg-blue-500/30;
    background: fixed;
  }

  body.light {
    background:
      radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.08) 0, transparent 50%),
      radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.08) 0, transparent 50%),
      radial-gradient(at 50% 100%, rgba(59, 130, 246, 0.05) 0, transparent 50%);
    background-color: #f8fafc;
    background-attachment: fixed;
    color: #1e293b;
  }

  body.dark {
    background:
      radial-gradient(at 0% 0%, rgba(30, 58, 138, 0.2) 0, transparent 50%),
      radial-gradient(at 100% 0%, rgba(88, 28, 135, 0.2) 0, transparent 50%),
      radial-gradient(at 50% 100%, rgba(15, 23, 42, 0.8) 0, transparent 100%);
    background-color: #0f172a;
    background-attachment: fixed;
    color: #f8fafc;
  }
}

@layer components {
  .premium-card {
    @apply relative overflow-hidden backdrop-blur-2xl border border-white/20 dark:border-white/5 rounded-3xl shadow-2xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.7);
  }

  .dark .premium-card {
    background: rgba(30, 41, 59, 0.6);
  }

  .dark .premium-card {
    border-color: rgba(148, 163, 184, 0.15);
  }

  .premium-card::before {
    content: "";
    @apply absolute inset-0 pointer-events-none rounded-3xl;
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.1), transparent);
  }

  .dark .premium-card::before {
    background: linear-gradient(to bottom right, rgba(255, 255, 255, 0.05), transparent);
  }

  .glow-border {
    @apply relative;
  }

  .glow-border::after {
    content: "";
    @apply absolute -inset-[1px] bg-gradient-to-r from-blue-500 to-purple-500 rounded-[inherit] opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10 blur-[2px];
  }

  .neon-button {
    @apply relative inline-flex items-center justify-center px-8 py-4 font-bold text-white transition-all duration-300 bg-blue-600 rounded-2xl hover:bg-blue-700 active:scale-95;
    box-shadow: 0 0 20px rgba(37, 99, 235, 0.3);
  }

  .neon-button:hover {
    box-shadow: 0 0 30px rgba(37, 99, 235, 0.5);
  }

  .primary-button {
    @apply px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .secondary-button {
    @apply px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-100 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors text-sm border border-slate-300 dark:border-slate-600;
  }

  .danger-button {
    @apply px-3 py-1 text-sm bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-200 rounded hover:bg-red-200 dark:hover:bg-red-800 transition-colors border border-red-300 dark:border-red-700;
  }

  .ghost-button {
    @apply px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white font-medium transition-colors;
  }

  .glass-input-premium {
    @apply bg-white/40 dark:bg-black/20 backdrop-blur-md border border-white/20 dark:border-white/10 rounded-xl px-4 py-3 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300;
  }

  /* Scan Effect for evaluation */
  .scan-animation {
    @apply absolute left-0 right-0 h-1.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-70 z-20 pointer-events-none;
    animation: scan 2s linear infinite;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
  }
}

@keyframes scan {
  0% {
    top: 0%;
  }

  100% {
    top: 100%;
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

/* details要素のアニメーション */
details summary {
  cursor: pointer;
  transition: background-color 0.2s ease;
}

details[open] summary {
  margin-bottom: 0;
}

details>div {
  animation: slideDown 0.3s ease-out;
  overflow: hidden;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* モーダルのフェードインアニメーション */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

/* highlight.js - ライトモード（デフォルト） */
.hljs {
  color: #24292e;
  background: transparent;
}

.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-template-tag,
.hljs-template-variable,
.hljs-type,
.hljs-variable.language_ {
  color: #d73a49;
}

.hljs-title,
.hljs-title.class_,
.hljs-title.class_.inherited__,
.hljs-title.function_ {
  color: #6f42c1;
}

.hljs-attr,
.hljs-attribute,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-operator,
.hljs-selector-attr,
.hljs-selector-class,
.hljs-selector-id,
.hljs-variable {
  color: #005cc5;
}

.hljs-string,
.hljs-meta .hljs-string,
.hljs-regexp {
  color: #032f62;
}

.hljs-built_in,
.hljs-symbol {
  color: #e36209;
}

.hljs-code,
.hljs-comment,
.hljs-formula {
  color: #6a737d;
}

.hljs-name,
.hljs-quote,
.hljs-selector-pseudo,
.hljs-selector-tag {
  color: #22863a;
}

.hljs-subst {
  color: #24292e;
}

.hljs-section {
  color: #005cc5;
  font-weight: 700;
}

.hljs-bullet {
  color: #735c0f;
}

.hljs-emphasis {
  color: #24292e;
  font-style: italic;
}

.hljs-strong {
  color: #24292e;
  font-weight: 700;
}

.hljs-addition {
  color: #22863a;
  background-color: #f0fff4;
}

.hljs-deletion {
  color: #b31d28;
  background-color: #ffeef0;
}

/* highlight.js - ダークモード（darkクラスがある場合） */
.dark .hljs {
  color: #c9d1d9;
  background: transparent;
}

.dark .hljs-doctag,
.dark .hljs-keyword,
.dark .hljs-meta .hljs-keyword,
.dark .hljs-template-tag,
.dark .hljs-template-variable,
.dark .hljs-type,
.dark .hljs-variable.language_ {
  color: #ff7b72;
}

.dark .hljs-title,
.dark .hljs-title.class_,
.dark .hljs-title.class_.inherited__,
.dark .hljs-title.function_ {
  color: #d2a8ff;
}

.dark .hljs-attr,
.dark .hljs-attribute,
.dark .hljs-literal,
.dark .hljs-meta,
.dark .hljs-number,
.dark .hljs-operator,
.dark .hljs-selector-attr,
.dark .hljs-selector-class,
.dark .hljs-selector-id,
.dark .hljs-variable {
  color: #79c0ff;
}

.dark .hljs-string,
.dark .hljs-meta .hljs-string,
.dark .hljs-regexp {
  color: #a5d6ff;
}

.dark .hljs-built_in,
.dark .hljs-symbol {
  color: #ffa657;
}

.dark .hljs-code,
.dark .hljs-comment,
.dark .hljs-formula {
  color: #8b949e;
}

.dark .hljs-name,
.dark .hljs-quote,
.dark .hljs-selector-pseudo,
.dark .hljs-selector-tag {
  color: #7ee787;
}

.dark .hljs-subst {
  color: #c9d1d9;
}

.dark .hljs-section {
  color: #79c0ff;
  font-weight: 700;
}

.dark .hljs-bullet {
  color: #f2cc60;
}

.dark .hljs-emphasis {
  color: #c9d1d9;
  font-style: italic;
}

.dark .hljs-strong {
  color: #c9d1d9;
  font-weight: 700;
}

.dark .hljs-addition {
  color: #aff5b4;
  background-color: #033a16;
}

.dark .hljs-deletion {
  color: #ffdcd7;
  background-color: #67060c;
}